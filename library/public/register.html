<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Библиотека Ш++</title>
    <link rel="stylesheet" href="/public/css/login.css">
    <link href="https://fonts.googleapis.com/css?family=Oswald&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
<center>
    <p></p>
    <b><a style="font-style: oblique; font-size: large" href = "/library/admin"> Вернуться обратно в админпанель </a></b>
    <p></p>
    <b><a style="font-style: oblique" href = "/library"> Перейти на главную страницу </a></b>
    <p></p>
</center>
<div id="app">
    <div class="Login">
        <h1>Библиотека<span style="color: darkgreen">/</span>Ш++</h1>
        <form action="../api/v1/admin/register.php" method="post">
        <div class="LoginInput">
            <input v-model="nickName" name="nickName" type="text" placeholder="Nickname" autofocus required>
            <input v-model="pass" name="pass" type="password" placeholder="Password" autofocus required>
        </div>
        <div class="LoginButton">
            <button type="submit" @click="check()">Register</button>
        </div>
        </form>
    </div>
</div>


<script>
    let vue = new Vue({
        el: '#app',
        data: {
            nickName: '',
            pass: ''
        },
        methods: {
             check() {
                if (this.pass.trim() === '')
                    alert("Пароль не должен быть пустым!");

                if (this.nickName.trim() === '')
                    alert("Имя не должно быть пустым!");

                if (this.pass.trim() === '' || this.nickName.trim() === '')
                    window.location.reload();
            },
        },
        mounted() {
        },
    });
</script>
<!--<script>-->

<!--	const url = "http://idea.localhost/library/api/v1/register.php";-->
<!--	const site = "http://idea.localhost/library/api/v1/panel.php";-->
<!--			function register() {-->
<!--                if (this.nickName.trim() !== '' && this.pass.trim()) {-->
<!--                    alert("ddddddddddd");-->
<!--                    let request = JSON.stringify({login: this.nickName, pass: this.pass});-->
<!--                    alert(request);-->
<!--                    fetch(url, {-->
<!--                        method: 'POST',-->
<!--                        body: request,-->
<!--                        headers: {-->
<!--                            'Content-Type': 'application/json;'-->
<!--                        },-->
<!--                    }).then(res => res.json())-->
<!--                        .then((response) => {-->
<!--                            if (response.ok) {-->
<!--                                this.nickName = '';-->
<!--                                this.pass = '';-->
<!--                                alert('ПОЗДРАВЛЯЮ ТЕПЕРЬ ВЫ ЗАРЕГИСТРИРОВАЛИСЬ \n' +-->
<!--                                    'А теперь можешь войти в админку)')-->

<!--                            } else {-->
<!--                                alert("Error 500. Internal server error. Please try again later")-->
<!--                            }-->
<!--                        });-->
<!--                }-->
<!--            }-->

<!--</script>-->
</body>
</html>
